<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on A Song of Numbers and Graphs</title>
    <link>https://fengkehh.github.io/post/index.xml</link>
    <description>Recent content in Posts on A Song of Numbers and Graphs</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 30 Apr 2017 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://fengkehh.github.io/post/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>The Poor Pigs Problem</title>
      <link>https://fengkehh.github.io/post/2017-04-26-the-poor-pigs-problem/</link>
      <pubDate>Sun, 30 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://fengkehh.github.io/post/2017-04-26-the-poor-pigs-problem/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#introduction&#34;&gt;Introduction&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#additional-clarfications&#34;&gt;Additional Clarfications&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#the-binary-state-method&#34;&gt;The Binary State Method&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#one-round-of-testing&#34;&gt;One Round of Testing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#four-rounds-of-testing&#34;&gt;Four Rounds of Testing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#back-to-the-original&#34;&gt;Back to the Original&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#follow-up&#34;&gt;Follow Up&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#digression&#34;&gt;Digression&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;div id=&#34;introduction&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Introduction&lt;/h1&gt;
&lt;p&gt;This is an interesting problem I ran across on &lt;a href=&#34;https://leetcode.com/problems/poor-pigs/#/description&#34;&gt;leetcode.com&lt;/a&gt;. I have included the description of it below.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There are 1000 buckets, one and only one of them contains poison, the rest are filled with water. They all look the same. If a pig drinks that poison it will die within 15 minutes. What is the minimum amount of pigs you need to figure out which bucket contains the poison within one hour.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Answer this question, and write an algorithm for the follow-up general case.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Follow-up:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;If there are n buckets and a pig drinking poison will die within m minutes, how many pigs (x) you need to figure out the “poison” bucket within p minutes? There is exact one bucket with poison.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div id=&#34;additional-clarfications&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Additional Clarfications&lt;/h2&gt;
&lt;p&gt;I am going to work with the following details:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;A pig has infinite speed when it comes to drinking from the buckets (ie: you can have one pig drink from all 1000 buckets in as short amount of time as you need and still receive a fatal dose).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If a pig is poisoned it dies sometime &lt;em&gt;within&lt;/em&gt; 15 minutes instead of at exactly the 15-minute mark. This ensures that you cannot use the trivial solution where you find the poisoned bucket by getting only one pig to drink all 1000 buckets and figure out the poisoned one by timing the pig’s death down to &lt;span class=&#34;math inline&#34;&gt;\(\frac{9}{10}\)&lt;/span&gt; of a second.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;the-binary-state-method&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;The Binary State Method&lt;/h1&gt;
&lt;div id=&#34;one-round-of-testing&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;One Round of Testing&lt;/h2&gt;
&lt;p&gt;Disclaimer: I didn’t come up with this entirely by myself. Credit should also go to &lt;a href=&#34;https://www.linkedin.com/in/ting-zheng-97a2267b/&#34;&gt;Ting Zheng&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;First let’s start with a simplified case with a total number of n = 4 buckets and &lt;strong&gt;only one round of testing&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Buckets: &lt;code&gt;A, B, C, D&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now take &lt;strong&gt;x = 2&lt;/strong&gt; pigs and divide the buckets as follow:&lt;/p&gt;
&lt;p&gt;P1: &lt;code&gt;A, B&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;P2: &lt;code&gt;B, C&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;No pigs: &lt;code&gt;D&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;No matter which bucket contains the poison you can always deduce it by looking at the combination of dead/alive states of P1 and P2 after 15 minutes. This works because the total number of combinations using the binary states of each pig is &lt;span class=&#34;math inline&#34;&gt;\(2^2 = 4 \ge n\)&lt;/span&gt; .&lt;/p&gt;
&lt;p&gt;This can be extended for a larger number of buckets as well, for example, for n = 16 buckets we can do it with 4 pigs:&lt;/p&gt;
&lt;p&gt;Buckets: &lt;code&gt;A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;P1: &lt;code&gt;A, B, C, D, E, F, G, H, I&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;P2: &lt;code&gt;E, F, G, H, I, J, K, L&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;P3: &lt;code&gt;A, B, E, F, I, J, M, N&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;P4: &lt;code&gt;B, C, F, G, J, K, N, O&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Np Pigs: &lt;code&gt;P&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Here is a graphical representation of the above division of buckets to each pig:&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/poor_pigs.png&#34; /&gt;

&lt;/div&gt;
&lt;p&gt;You can see that the buckets are divided into repeating sub-units of 4 similar to the 4-bucket case. Once again, total number of dead/alive combinations is &lt;span class=&#34;math inline&#34;&gt;\(2^4 = 16 \ge n\)&lt;/span&gt;. In fact, for any n buckets you can find the poisoned one with a minimum of &lt;span class=&#34;math inline&#34;&gt;\(x = \lceil log_2(n) \rceil\)&lt;/span&gt; pigs (ie: the smallest x to satisfy &lt;span class=&#34;math inline&#34;&gt;\(2^x \ge n\)&lt;/span&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;four-rounds-of-testing&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Four Rounds of Testing&lt;/h2&gt;
&lt;p&gt;Now we will consider the original question and allow &lt;strong&gt;four rounds&lt;/strong&gt; per the original requirement. Let’s start with just a generalized number of buckets, n. Since we have 4 tries, we can start by cutting down the number of buckets that we have to test in detail as much as possible. We can do this by dividing the bottles into groups and test each group with just one pig to locate the group that contains the poison.&lt;/p&gt;
&lt;p&gt;If we have x pigs in total, we can divide n buckets into (x + 1) groups (if no pigs die then it must be the group that isn’t tested). Since the question asks for a minimum x pigs that guarantees finding the poision, we need to be conservative here and consider only the worst case scenario where we lose as many pigs as possible. So in this first division we lose one pig and have (x - 1) pigs left.&lt;/p&gt;
&lt;p&gt;We then repeat the process twice. Since we have lost a pig already, we can only divide into x groups now (and lose another pig in the process). Finally on the third division we have (x - 1) groups and lose one last pig. We now have (x - 3) pigs left and a group with approximately &lt;span class=&#34;math inline&#34;&gt;\(\frac{n}{(x + 1)(x)(x - 1)}\)&lt;/span&gt; buckets. These are the buckets that we must test in detail on the last round using the binary state combinations of the (x - 3) pigs we have left in order to locate the poisoned bucket (at most &lt;span class=&#34;math inline&#34;&gt;\(2^{x - 3}\)&lt;/span&gt; buckets).&lt;/p&gt;
&lt;p&gt;Working backward, we can see that the minimum amount of pigs we need is the smallest x that satisfies the following:&lt;/p&gt;
&lt;span class=&#34;math display&#34; id=&#34;eq:maxbuckets&#34;&gt;\[\begin{equation}
2^{x-3}(x+1)(x)(x-1) \ge n
\tag{1}
\end{equation}\]&lt;/span&gt;
&lt;p&gt;where x = number of pigs and n = number of buckets.&lt;/p&gt;
&lt;p&gt;Note that in order for eq &lt;a href=&#34;#eq:maxbuckets&#34;&gt;(1)&lt;/a&gt; to make sense we must start with at least 4 pigs (otherwise you will run out of pigs in the worst case scenario). This means this particular method is only justified for a total number of buckets exceeding 120. For buckets less than 120 you may want to reduce the number of rounds dedicated to dividing buckets into groups and avoid losing pigs unnecessarily.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;back-to-the-original&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Back to the Original&lt;/h2&gt;
&lt;p&gt;With n = 1000, the minimum x that satisfies equation &lt;a href=&#34;#eq:maxbuckets&#34;&gt;(1)&lt;/a&gt; is x = 6. In fact, with 6 pigs you can test up to a whopping &lt;strong&gt;&lt;em&gt;1680&lt;/em&gt;&lt;/strong&gt; buckets in an hour!&lt;/p&gt;
&lt;div id=&#34;follow-up&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Follow Up&lt;/h3&gt;
&lt;p&gt;If pigs die within m minutes and we are given p minutes, then the number of test rounds is &lt;span class=&#34;math inline&#34;&gt;\(\lfloor\frac{p}{m}\rfloor\)&lt;/span&gt;. Out of these, &lt;span class=&#34;math inline&#34;&gt;\(\lfloor\frac{p}{m}\rfloor - 1\)&lt;/span&gt; rounds are used to divide buckets into groups and zoom in on the general location of the poison. Equation &lt;a href=&#34;#eq:maxbuckets&#34;&gt;(1)&lt;/a&gt; can then be generalized to&lt;/p&gt;
&lt;span class=&#34;math display&#34; id=&#34;eq:generalized&#34;&gt;\[\begin{equation}
2^{x- \lfloor \frac{p}{m} \rfloor + 1}\prod_{i = 1}^{\lfloor \frac{p}{m} \rfloor - 1} (x + 2 - i) \ge n
\tag{2}
\end{equation}\]&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;digression&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Digression&lt;/h1&gt;
&lt;p&gt;There is an interesting suggestion proposed by &lt;a href=&#34;https://discuss.leetcode.com/topic/67666/another-explanation-and-solution&#34;&gt;StephanPochmann&lt;/a&gt;. The suggestion essentially advocates arranging the buckets into 5x5 square matrices and use two pigs each to find the (x, y) coordinates of the poisoned bucket within four rounds of testing. If there are more than 25 buckets in total you can divide the buckets into units of 5x5 matrices and assign two pigs for each. It further postulates an extension of using 5 x 5 x 5 cubes and 3 pigs per cube. However, there are some problems:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;While the method using square matrices is possible, the suggestion of further optimization using cubes is not. Suppose there is exactly one 5 x 5 x 5 cube of buckets and 3 pigs total for the 3 axis. Each pig can drink a max of 5 buckets on their respective axis. With 3 pigs you get 15 buckets tested per round. After 4 rounded you have only tested 15 x 4 = 60 buckets. That leaves 65 buckets untested in each cube! If you want guaranteed results you can only leave a maximum of &lt;strong&gt;1&lt;/strong&gt; bucket untested out of all of the cubes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If the total number of buckets requires more than one matrix units you cannot systematically leave one bucket untested in each matrix because again, only one untested buckets out of all of the matrices combined is allowed for guaranteed result. Therefore in the cases where you have more than one matrix unit each matrix can only be 4 x 4 with the exception of a single 5 x 5 matrix at the beginning.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Assuming p = 60 and m = 15 as per the original specification, since the number of buckets tested using the binary state method grows exponentially by the number of pigs, it quickly overtakes the matrix method in terms of efficiency as the number of buckets increases. Specifically, The matrix method can test 16 buckets using two pigs. Any n &amp;gt; 16 requires you to divide them into matrix groups. This means x is roughly &lt;span class=&#34;math inline&#34;&gt;\(2\frac{n}{16}\)&lt;/span&gt; -&amp;gt; &lt;span class=&#34;math inline&#34;&gt;\(O(n)\)&lt;/span&gt;. In comparison, the binary method is actually better than &lt;span class=&#34;math inline&#34;&gt;\(O(log(n))\)&lt;/span&gt; (see &lt;a href=&#34;#eq:maxbuckets&#34;&gt;(1)&lt;/a&gt;).&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Can Car Transmission Affect Fuel Efficiency?</title>
      <link>https://fengkehh.github.io/post/2017-03-30-can-car-transmission-affect-fuel-efficiency/</link>
      <pubDate>Thu, 30 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://fengkehh.github.io/post/2017-03-30-can-car-transmission-affect-fuel-efficiency/</guid>
      <description>&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#disclaimer&#34;&gt;Disclaimer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#introduction&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#data-ingress-preparation&#34;&gt;Data Ingress &amp;amp; Preparation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exploratory-data-analysis&#34;&gt;Exploratory Data Analysis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#regression-analysis&#34;&gt;Regression Analysis&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#model-selection&#34;&gt;Model Selection&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#residual-analysis&#34;&gt;Residual Analysis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#model-interpretation&#34;&gt;Model Interpretation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#conclusion&#34;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#digression&#34;&gt;Digression&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;disclaimer&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Disclaimer&lt;/h1&gt;
&lt;p&gt;The model selection technique employed in this project is a form of &lt;em&gt;stepwise regression&lt;/em&gt;. This is a &lt;a href=&#34;https://en.wikipedia.org/wiki/Stepwise_regression#Criticism&#34;&gt;controversial&lt;/a&gt; and &lt;a href=&#34;http://stats.stackexchange.com/questions/20836/algorithms-for-automatic-model-selection#20856&#34;&gt;somewhat naive&lt;/a&gt; way of selecting the relevant predictors so the result should be taken with a grain of salt. I do plan to revisit this in the future with some form of cross validation to see if it results in any interesting changes. Of course, the best way to build a model is almost always with proper understanding of the various causal relations pertinent to the subject. Unfortunately I am not well versed in automobile engineering so that is out of my reach.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;synopsis&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Synopsis&lt;/h1&gt;
&lt;p&gt;The relationship between fuel efficiency and car transmission type is studied using the &lt;code&gt;mtcars&lt;/code&gt; dataset. A model is built using MLR and regression analysis is carried out. Hypothesis tests suggest that while weight, horsepower and &lt;em&gt;certain&lt;/em&gt; number of engine cylinders are significant factors in fuel efficiency, transmission type and having 8-cylinder engine are not.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;introduction&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Introduction&lt;/h1&gt;
&lt;p&gt;This is an expansion to a project I did for the &lt;strong&gt;Regression Models&lt;/strong&gt; course certificate by Johns Hopkins University on Coursera. You can find the more concise but also more limited original report &lt;a href=&#34;../../doc/regression_report.pdf&#34;&gt;here&lt;/a&gt; in pdf format.&lt;/p&gt;
&lt;p&gt;The torque and speed output of an internal combustion engine is controlled using a set of gears. Originally, vehicles require the drivers to manually shift the gears during operation according to the road condition and speed of the vehicle to achieve optimal performance. The advent of automatic transmission allows motor vehicles to automate the gear shifting process without direct human input. Naturally it raises the question, can a competent driver at the helm of a manual transmission car beat an automatic transmission car in terms of fuel efficiency? This report aims to discover the potential effect of transmission type on vehicle fuel economy.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;data-ingress-preparation&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Data Ingress &amp;amp; Preparation&lt;/h1&gt;
&lt;p&gt;Required libraries and data are loaded using the following code. Motor vehicle road test performance is obtained from the mtcars dataset.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dplyr) # for data manipulation
library(ggplot2) # for faceted histograms
library(knitr) # for tables
data(mtcars) # load data needed&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The origin of the data can be found on its &lt;a href=&#34;https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/mtcars.html&#34;&gt;R documentation page&lt;/a&gt;. The included variables are listed in Table &lt;a href=&#34;#tab:var-matrix&#34;&gt;1&lt;/a&gt;:&lt;/p&gt;
&lt;table&gt;
&lt;caption&gt;&lt;span id=&#34;tab:var-matrix&#34;&gt;Table 1: &lt;/span&gt;List of mtcars Variables&lt;/caption&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Description&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Categorical&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;am&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Transmission (0 = automatic, 1 = manual)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;cyl&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Number of cylinders (4, 6, or 8)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;vs&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;V or Straight Engine (0 for v, 1 for s)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;gear&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Number of forward gears (3, 4 or 5)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;carb&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Number of carburetors (1, 2, 3, 4, 6 or 8)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;mpg&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Miles/(US) gallon&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;disp&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Displacement (cubic inches)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;hp&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gross horsepower (hp)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;wt&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Weight (1000 lbs)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;qsec&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1/4 mile time (sec)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;drat&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Rear Axle Ratio&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The outcome variable of primary interest is &lt;code&gt;mpg&lt;/code&gt; which measures fuel efficiency. The predictor of interest is &lt;code&gt;am&lt;/code&gt;, which categorizes transmission type. However other variables may or may not have an effect on fuel efficiency as well.&lt;/p&gt;
&lt;p&gt;To allow logical interpretations during regression analysis, the potential non-categorical predictors are centered and categorical predictors are converted to multi-level factors with the following code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mtcars &amp;lt;- mutate(mtcars,
                 amf = factor(am, labels = c(&amp;#39;auto&amp;#39;, &amp;#39;manual&amp;#39;)),
                 cylf = factor(cyl),
                 vsf = factor(vs, labels = c(&amp;#39;v&amp;#39;, &amp;#39;s&amp;#39;)),
                 gearf = factor(gear),
                 carbf = factor(carb),
                 hpc = (hp - mean(hp)),
                 wtc = (wt - mean(wt)),
                 dratc = (drat - mean(drat)),
                 dispc = (disp - mean(disp)),
                 qsec = (qsec - mean(qsec))
                 )&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;exploratory-data-analysis&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Exploratory Data Analysis&lt;/h1&gt;
&lt;p&gt;Boxplot of MPG values of all cars grouped by transmission type is shown in Figure &lt;a href=&#34;#fig:amfplot&#34;&gt;1&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:amfplot&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;../post/2017-03-30-can-car-transmission-affect-fuel-efficiency_files/figure-html/amfplot-1.png&#34; alt=&#34;MPG vs Transmission&#34; width=&#34;672&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 1: MPG vs Transmission
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Judging by this alone it seems to suggest that cars with manual transmission achieves higher fuel efficiency compared to cars with automatic transmission. Boxplots showing MPG vs transmission type colored by the other categorical predictors are shown in Figure &lt;a href=&#34;#fig:categorical-panel&#34;&gt;2&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:categorical-panel&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;../post/2017-03-30-can-car-transmission-affect-fuel-efficiency_files/figure-html/categorical-panel-1.png&#34; alt=&#34;MPG vs Categorical Variables&#34; width=&#34;672&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 2: MPG vs Categorical Variables
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;It can be seen that&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Although there are cases where no data exists for one of the transmission types, manual transmission generally results in higher mpg.&lt;/li&gt;
&lt;li&gt;Number of cylinders, number of carburetors, and V/S engine type are categorical variables that seem to have an effect on mpg. The effect of gears is not as clear.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Figure &lt;a href=&#34;#fig:non-categorical&#34;&gt;3&lt;/a&gt; shows the effect of non-categorical variables on MPG:&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:non-categorical&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;../post/2017-03-30-can-car-transmission-affect-fuel-efficiency_files/figure-html/non-categorical-1.png&#34; alt=&#34;MPG vs Non-Categorical Variables&#34; width=&#34;672&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 3: MPG vs Non-Categorical Variables
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;There seems to be associations between mpg and displacement, horsepower and weight. Interestingly automatic transmission now seems to be associated with the &lt;strong&gt;higher&lt;/strong&gt; mpg. This demonstrates that conflicting patterns exist in mpg, particularly with transmission type. Identifying exactly which relationships are significant will be accomplished using &lt;em&gt;regression analysis&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;regression-analysis&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Regression Analysis&lt;/h1&gt;
&lt;div id=&#34;model-selection&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Model Selection&lt;/h2&gt;
&lt;p&gt;Since all categorical variables have been transformed into factors, they will be dummy-coded when used as a predictor in MLR. Since the interest is to check the effect of transmission type &lt;code&gt;amf&lt;/code&gt; is included as the first predictor. Nested MLR fits are then generated with increasing model complexities first with non-categorical variables. ANOVA-F test is carried out:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fit0 &amp;lt;- lm(mpg ~ amf, data = mtcars)
fit1 &amp;lt;- update(fit0, mpg ~ amf + wtc)
fit2 &amp;lt;- update(fit1, mpg ~ amf + wtc + hpc)
fit3 &amp;lt;- update(fit2, mpg ~ amf + wtc + hpc + dratc)
fit4 &amp;lt;- update(fit3, mpg ~ amf + wtc + hpc + dratc + qsec)
fit5 &amp;lt;- update(fit4, mpg ~ amf + wtc + hpc + dratc + qsec + disp)

anova(fit0, fit1, fit2, fit3, fit4, fit5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Analysis of Variance Table
## 
## Model 1: mpg ~ amf
## Model 2: mpg ~ amf + wtc
## Model 3: mpg ~ amf + wtc + hpc
## Model 4: mpg ~ amf + wtc + hpc + dratc
## Model 5: mpg ~ amf + wtc + hpc + dratc + qsec
## Model 6: mpg ~ amf + wtc + hpc + dratc + qsec + disp
##   Res.Df    RSS Df Sum of Sq       F    Pr(&amp;gt;F)    
## 1     30 720.90                                   
## 2     29 278.32  1    442.58 73.7170 6.325e-09 ***
## 3     28 180.29  1     98.03 16.3280 0.0004461 ***
## 4     27 176.96  1      3.33  0.5540 0.4636198    
## 5     26 158.64  1     18.33  3.0525 0.0928895 .  
## 6     25 150.09  1      8.55  1.4233 0.2440542    
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;According to the F-test statistics, weight and horsepower are relevant predictors in addition to transmission type while the rest are not. A similar process is done with categorical variables:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fit_1 &amp;lt;- update(fit0, mpg ~ amf + cylf)
fit_2 &amp;lt;- update(fit_1, mpg ~ amf + cylf + carbf)
fit_3 &amp;lt;- update(fit_2, mpg ~ amf + cylf + carbf + vsf)
fit_4 &amp;lt;- update(fit_3, mpg ~ amf + cylf + carbf + vsf + gearf)

anova(fit0, fit_1, fit_2, fit_3, fit_4)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Analysis of Variance Table
## 
## Model 1: mpg ~ amf
## Model 2: mpg ~ amf + cylf
## Model 3: mpg ~ amf + cylf + carbf
## Model 4: mpg ~ amf + cylf + carbf + vsf
## Model 5: mpg ~ amf + cylf + carbf + vsf + gearf
##   Res.Df    RSS Df Sum of Sq       F    Pr(&amp;gt;F)    
## 1     30 720.90                                   
## 2     28 264.50  2    456.40 24.6539 4.004e-06 ***
## 3     23 195.61  5     68.88  1.4884    0.2378    
## 4     22 191.86  1      3.76  0.4057    0.5314    
## 5     20 185.12  2      6.73  0.3636    0.6996    
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once again, F-test shows that the number of cylinders is important while the rest can be safely ignored. A final check is done for just the predictors we have selected so far, &lt;code&gt;amf&lt;/code&gt;, &lt;code&gt;cylf&lt;/code&gt;, &lt;code&gt;wtc&lt;/code&gt;, and &lt;code&gt;hpc&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## Analysis of Variance Table
## 
## Model 1: mpg ~ amf
## Model 2: mpg ~ amf + cylf
## Model 3: mpg ~ amf + cylf + wtc
## Model 4: mpg ~ amf + cylf + wtc + hpc
##   Res.Df    RSS Df Sum of Sq       F    Pr(&amp;gt;F)    
## 1     30 720.90                                   
## 2     28 264.50  2    456.40 39.2861 1.388e-08 ***
## 3     27 182.97  1     81.53 14.0354 0.0009026 ***
## 4     26 151.03  1     31.94  5.4991 0.0269346 *  
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As the ANOVA F test indicates, all selected predictors (besides &lt;code&gt;amf&lt;/code&gt; because it was never really checked except against the trivial model, the constant mean) are shown to be significant. The fit &lt;code&gt;final3&lt;/code&gt;, with transmission type, number of cylinders, weight and horsepower as the predictors, is selected to be the final model for interpretation.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;residual-analysis&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Residual Analysis&lt;/h2&gt;
&lt;p&gt;Figure &lt;a href=&#34;#fig:residual&#34;&gt;4&lt;/a&gt; shows the residual plots.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:residual&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;../post/2017-03-30-can-car-transmission-affect-fuel-efficiency_files/figure-html/residual-1.png&#34; alt=&#34;Residual Analysis&#34; width=&#34;672&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 4: Residual Analysis
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;It can be seen that residuals vs fitted never deviate to more than 2 standard units away from 0. The QQ plot shows that the residual conforms to the normal distribution pretty well although at the far right side it seems to become a bit too wide. Scale-Location vs predictors plot shows a relatively horizontal line so the variance of residual is pretty constant (satisfies homoscedasticity) and finally the points that are furthest away from 0 have pretty low leverage so the fit should be fairly representative of the sample. Overall, the selection seems to be good.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;model-interpretation&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Model Interpretation&lt;/h2&gt;
&lt;p&gt;The summary for the selected model is shown below.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## 
## Call:
## lm(formula = mpg ~ amf + cylf + wtc + hpc, data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.9387 -1.2560 -0.4013  1.1253  5.0513 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept) 20.96535    1.56753  13.375 3.65e-13 ***
## amfmanual    1.80921    1.39630   1.296  0.20646    
## cylf6       -3.03134    1.40728  -2.154  0.04068 *  
## cylf8       -2.16368    2.28425  -0.947  0.35225    
## wtc         -2.49683    0.88559  -2.819  0.00908 ** 
## hpc         -0.03211    0.01369  -2.345  0.02693 *  
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Residual standard error: 2.41 on 26 degrees of freedom
## Multiple R-squared:  0.8659, Adjusted R-squared:  0.8401 
## F-statistic: 33.57 on 5 and 26 DF,  p-value: 1.506e-10&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The adjusted &lt;span class=&#34;math inline&#34;&gt;\(R^2\)&lt;/span&gt; value is 0.84, which means 84% of the sample MPG variance is explained by the MLR. The model coefficients can be interpreted as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(Intercept): a car can drive 20.97 miles per gallon if it is at the average sample weight and horsepower and uses automatic transmission with a 4-cylinder engine.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;amfmanual&lt;/code&gt;: a car can drive 1.81 miles per gallon more if you switch from automatic transmission to manual while keeping everything else constant.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cylf6&lt;/code&gt;: a car will drive 3.03 miles per gallon less if you switch from a 4-cylinder engine to a 6 cylinder engine while keeping everything else constant.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cylf8&lt;/code&gt;: a car will drive 2.16 miles per gallon less if you switch from a 4-cylinder engine to an 8 cylinder engine while keeping everything else constant.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wtc&lt;/code&gt;: a car will drive 2.50 miles per gallon less if you increase its weight by 1000 lbs while keeping everything else constant.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hpc&lt;/code&gt;: a car will drive 0.03 miles per gallon less if you increase its engine horsepower by 1 hp while keeping everything else constant.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It should be noted that the P values for &lt;code&gt;amfmanual&lt;/code&gt; and &lt;code&gt;cylf8&lt;/code&gt; are larger than the traditional cutoff value of 0.05. This means they are &lt;strong&gt;not&lt;/strong&gt; statistically significant. Thus the null hypothesis (&lt;span class=&#34;math inline&#34;&gt;\(\beta_i = 0\)&lt;/span&gt;) for these coefficients cannot be rejected and it must be concluded that they do not have significant effects on MPG.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;conclusion&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;Using MLR analysis a model is constructed to reflect the association of fuel efficiency, mpg with transmission type, number of cylinders, horsepower and weight. Residual analysis shows that the model is a good fit. Interestingly, T-test on the model coefficients reveals that the null hypothesis for the transmission type and 8-cylinder engine coefficients cannot be rejected. The evidence therefore suggests that switching the transmission from automatic to manual or the number of cylinders in the engine is increased from 4 to 8 &lt;strong&gt;does not&lt;/strong&gt; have statistically significant effect on fuel efficiency despite what one may conclude based purely on first glance on boxplots such as those in Figure &lt;a href=&#34;#fig:amfplot&#34;&gt;1&lt;/a&gt; and &lt;a href=&#34;#fig:categorical-panel&#34;&gt;2&lt;/a&gt;. Fuel efficiency seems to depend more significantly on weight and horsepower.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;digression&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Digression&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;The fact that cylf8 is insignificant is counter intuitive as cylf6 seems to have a significant effect on fuel efficiency. Coefficient for cylf8 is also &lt;em&gt;more positive&lt;/em&gt; than that of cylf6, suggesting that increasing cylinder number past 6 may actually increase fuel efficiency relative to a 6-cylinder car. Without consulting with an automobile engineer one cannot say with certainty if that is reasonable. If it is not then this may be a sign that there are problems with the data collected for 8 cylinder cars.&lt;/li&gt;
&lt;li&gt;As with all things manual, the competence of the driver is a huge factor that should be considered. It is reasonable to believe that a terrible driver not accustomed to driving a manual transmission car will cause suboptimal fuel efficiency. Since the data does not contain any metrics for competency it is assumed that all data is collected under optimal performance.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>The Effects of Vitamin C Supplements on Guinea Pig Odontoblast Lengths</title>
      <link>https://fengkehh.github.io/post/2017-03-21-the-effects-of-vitamin-c-supplements-on-guinea-pig-odontoblast-lengths/</link>
      <pubDate>Tue, 21 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://fengkehh.github.io/post/2017-03-21-the-effects-of-vitamin-c-supplements-on-guinea-pig-odontoblast-lengths/</guid>
      <description>&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#synopsis&#34;&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#introduction&#34;&gt;1. Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#data-summary&#34;&gt;2. Data Summary&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#exploratory-analysis&#34;&gt;3. Exploratory Analysis&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#bootstrap&#34;&gt;3.1 Bootstrap&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#hypothesis-test&#34;&gt;4. Hypothesis Test&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#effect-of-dosage&#34;&gt;4.1 Effect of Dosage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#effect-of-supplement-type&#34;&gt;4.2 Effect of Supplement Type&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#all-combinations&#34;&gt;4.3 All combinations&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#conclusion&#34;&gt;5. Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#references&#34;&gt;References&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;synopsis&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Synopsis&lt;/h2&gt;
&lt;p&gt;Teeth length data are extracted from the ToothGrowth dataset. Utilizing bootstrap and one-sided tests, multiple hypothesis are tested. The result indicates that the highest dosage, 2 mg/day gives the most significant increase to teeth length in guinea pigs. Also in general, orange juice is more effective than ascorbic acid. However, both supplements are about equally effective at the highest dosage tested.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;introduction&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;1. Introduction&lt;/h2&gt;
&lt;p&gt;This is an expansion of a project I did for the Statistical Inference course certificate on Coursera by Johns Hopkins University. Groups of guinea pigs were administered various dosages of vitamin C through either orange juice or ascorbic acid. The lengths of odontoblast cells were then measured &lt;span class=&#34;citation&#34;&gt;(Crampton 1947)&lt;/span&gt;. This report analyzes the data to determine the effects of the dosage and delivery method using value difference tests.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;data-summary&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;2. Data Summary&lt;/h2&gt;
&lt;p&gt;ToothGrowth is a built-in R dataset. According to the &lt;a href=&#34;https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/ToothGrowth.html&#34;&gt;R documentation&lt;/a&gt;, ToothGrowth is a data frame containing the following variables:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;len (numeric): Tooth length of guinea pigs.&lt;/li&gt;
&lt;li&gt;supp (factor): Supplement type (VC for ascorbic acid or OJ for orange juice).&lt;/li&gt;
&lt;li&gt;dose (numeric): Dose in milligrams/day (0.5, 1, or 2).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;each containing 60 observations. The first couple of data entries can be seen below:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;##    len supp dose
## 1  4.2   VC  0.5
## 2 11.5   VC  0.5
## 3  7.3   VC  0.5
## 4  5.8   VC  0.5
## 5  6.4   VC  0.5
## 6 10.0   VC  0.5&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Without additional information, it is reasonable to assume that the guinea pigs are independent of each other and the supplement type/dosage given are randomly assigned with no bias.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;exploratory-analysis&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;3. Exploratory Analysis&lt;/h2&gt;
The data is first factored into six groups for each supplement type and each dosage. Each observation group is referred to by supplement type followed by dosage. For example, ascorbic acid delivered at 2 mg/day is referred to as VC 2. The mean tooth length under each supplement types and each dosage is shown in &lt;a href=&#34;#fig:boxplot&#34;&gt;1&lt;/a&gt;.
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:boxplot&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;../post/2017-03-21-the-effects-of-vitamin-c-supplements-on-guinea-pig-odontoblast-lengths_files/figure-html/boxplot-1.png&#34; alt=&#34;Lengths by Type and Dosage&#34; width=&#34;672&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 1: Lengths by Type and Dosage
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Notice that the medians deviate from the middle for some of the groups. Also, each group with the a specific supplement type and dosage has a fairly small sample size (10). It is important to test the normality of the data before committing to a test that requires a normal distribution. Distribution for each supplement and dosage is shown in &lt;a href=&#34;#fig:normality&#34;&gt;2&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:normality&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;../post/2017-03-21-the-effects-of-vitamin-c-supplements-on-guinea-pig-odontoblast-lengths_files/figure-html/normality-1.png&#34; alt=&#34;Sample Distributions&#34; width=&#34;672&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 2: Sample Distributions
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;It is clear that for some groups the distributions are not normal. This is possibly due to the small sample size. Since most hypothesis tests require normal distributions for the samples, an empirical bootstrap is used to alleviate the problem.&lt;/p&gt;
&lt;div id=&#34;bootstrap&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;3.1 Bootstrap&lt;/h3&gt;
&lt;p&gt;Each group is &lt;strong&gt;resampled with replacement&lt;/strong&gt; to create 1000 samples of 10 members. The sample means are then calculated. This creates a bootstrapped sample mean distribution from 1000 means of each group. The code used is displayed below.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# set random number generator seed for reproducibility
set.seed(1234)

bootstrap &amp;lt;- function(supp_str, dose, n_samp) {
    
    data &amp;lt;- group_extract(supp_str, dose)
    
    resampled &amp;lt;- replicate(n_samp, mean(sample(data, replace = TRUE)))
    
    return(resampled)
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;hypothesis-test&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;4. Hypothesis Test&lt;/h2&gt;
&lt;p&gt;With the bootstrapped data it is possible to make two-sampled tests between different groups without any assumption of the sample distributions. A function to generate the p-value of a one-sided “greater than” hypothesis test using two bootstrapped sample statistics distributions is shown belown:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# Test if mean of sample 1 is greather than mean of sample 2 using bootstrap
# 
# ARGS:
# bs1, bs2: empirically bootstrapped sample means for group 1 and group 2
# 
# Returns p-value for alt: mean bs1 &amp;gt; mean bs2
two_sample_bootstrap &amp;lt;- function(bs1, bs2) {
    
    mean_diff &amp;lt;- bs1 - bs2
    
    avg_diff &amp;lt;- mean(mean_diff)
    
    mean_diff_centered &amp;lt;- bs1 - bs2 - avg_diff
    
    p_val &amp;lt;- length(mean_diff_centered[mean_diff_centered &amp;gt; avg_diff])/
        length(mean_diff_centered)
    
    return(p_val)
}&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;effect-of-dosage&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;4.1 Effect of Dosage&lt;/h3&gt;
&lt;p&gt;It may be of interest to limit the deciding factor to just the dosage. In this case the groups are only differentiated by the dosage factor. The following hypothesis is formed:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[H_0: \bar{X}_{2} - \bar{X}_{1} = \bar{X}_{2} - \bar{X}_{0.5} = \bar{X}_{1} - \bar{X}_{0.5} = 0 \]&lt;/span&gt; &lt;span class=&#34;math display&#34;&gt;\[H_A: \bar{X}_{2} &amp;gt; \bar{X}_{1}, \bar{X}_{2} &amp;gt; \bar{X}_{0.5}, \bar{X}_{1} &amp;gt; \bar{X}_{0.5}\]&lt;/span&gt; In other words, the null hypothesis is that dosage has no significant effect on odontoblast lengths. The alternative hypothesis is that 2mg/day results in the greatest average length while 0.5mg/day results in the shortest average length. One-sided two-sample bootstrap tests are carried out to check if 2 mg/day average is greater than other groups. The p-values are listed below:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;##   (X2 &amp;gt; X1) (X2 &amp;gt; X0.5) (X1 &amp;gt; X0.5) 
##           0           0           0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With such small p-values it is safe to reject the null hypothesis. Therefore the alternative hypothesis, that is 2mg/day of vitamin C produces longer lengths than both 1mg/day and 0.5mg/day and 1mg/day produces longer lengths than 0.5mg/day, can be accepted.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;effect-of-supplement-type&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;4.2 Effect of Supplement Type&lt;/h3&gt;
&lt;p&gt;The supplement type is now used as the sole grouping factor. The hypothesis to be tested is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[H_0: \bar{X}_{OJ} - \bar{X}_{VC} = 0\]&lt;/span&gt; &lt;span class=&#34;math display&#34;&gt;\[H_A: \bar{X}_{OJ} &amp;gt; \bar{X}_{VC}\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In other words, the alternative hypothesis is giving orange juice is more effective at increasing teeth length compared to giving ascorbic acid. The computed p-value is 0.029. Since it is once again smaller than the traditional cutoff value at 0.05, the null hypothesis is rejected. Orange juice is found to increase teeth length more effectively compared to ascorbic acid in general.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;all-combinations&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;4.3 All combinations&lt;/h3&gt;
&lt;p&gt;Finally both supplement type and dosage are used to define the groups. The following hypothesis is tested first&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[H_0: \bar{X}_{VC 2} - \bar{X}_{OJ 0.5} = 0\]&lt;/span&gt; &lt;span class=&#34;math display&#34;&gt;\[H_A: \bar{X}_{VC 2} - \bar{X}_{OJ 0.5} &amp;gt; 0\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In other words, the null hypothesis is there is no significant mean difference in teeth length between VC 2 and OJ 0.5. The alternative hypothesis is VC 2 produces significantly longer teeth lengths compared to OJ 0.5 on average. The p-value for the hypothesis test above is 0. Since it is less than the customery cutoff p = 0.05 the null hypothesis is rejected. VC 2 produces significantly longer teeth on average compared to OJ 0.5.&lt;/p&gt;
&lt;p&gt;The same process can be repeated multiple times with other groups to produce the following table:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;OJ_0.5&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;VC_1&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;OJ_2&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;VC_0.5&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;OJ_1&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;VC_2&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;OJ_0.5&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;NA&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.994&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.002&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;VC_1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.006&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;NA&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;OJ_2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;NA&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.021&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.504&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;VC_0.5&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.998&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;NA&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;OJ_1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.979&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;NA&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.957&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;VC_2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.496&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.000&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;0.043&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;NA&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;This table has to be read as The P value for the alternative hypothesis (row name) &amp;gt; (column name). The following alternative hypothesis should therefore be accepted for making the cutoff at P = 0.05:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## [1] OJ_0.5 &amp;gt; VC_0.5, P-val = 0.002
## [1] VC_1 &amp;gt; OJ_0.5, P-val = 0.006
## [1] VC_1 &amp;gt; VC_0.5, P-val = 0
## [1] OJ_2 &amp;gt; OJ_0.5, P-val = 0
## [1] OJ_2 &amp;gt; VC_1, P-val = 0
## [1] OJ_2 &amp;gt; VC_0.5, P-val = 0
## [1] OJ_2 &amp;gt; OJ_1, P-val = 0.021
## [1] OJ_1 &amp;gt; OJ_0.5, P-val = 0
## [1] OJ_1 &amp;gt; VC_1, P-val = 0
## [1] OJ_1 &amp;gt; VC_0.5, P-val = 0
## [1] VC_2 &amp;gt; OJ_0.5, P-val = 0
## [1] VC_2 &amp;gt; VC_1, P-val = 0
## [1] VC_2 &amp;gt; VC_0.5, P-val = 0
## [1] VC_2 &amp;gt; OJ_1, P-val = 0.043&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Almost everything in this table agrees with the assessment so far from analyzing the effect of dosage and supplement type. However, notice that a break in pattern occurs when the hypothesis test fails to reject the null for VC 2 &amp;gt; OJ 2 and OJ 2 &amp;gt; VC 2. This means for the 2mg/day case the lengths resulted from different supplement types are not signifcantly different from each other.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;conclusion&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;5. Conclusion&lt;/h2&gt;
&lt;p&gt;Combinging the analysis done for the effect of dosage and supplement type, it is clear that higher dosages of vitamin C results in longer odontoblast lengths and orange juice in general is more effective at producing longer lengths compared to ascorbic acid. However, comparison between all possible combination shows that the higher effectiveness of orange juice is only significant at dosages equal or lower than 1 mg/day.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;references&#34; class=&#34;section level2 unnumbered&#34;&gt;
&lt;h2&gt;References&lt;/h2&gt;
&lt;div id=&#34;refs&#34; class=&#34;references&#34;&gt;
&lt;div id=&#34;ref-crampton1947&#34;&gt;
&lt;p&gt;Crampton, E. W. 1947. “The Growth of the Odontoblast of the Incisor Teeth as a Criterion of Vitamin C Intake of the Guinea Pig.” &lt;em&gt;The Jounal of Nutrition&lt;/em&gt; 33 (5). American Society for Nutrition: 491–504. &lt;a href=&#34;http://jn.nutrition.org/content/33/5/491.full.pdf&#34; class=&#34;uri&#34;&gt;http://jn.nutrition.org/content/33/5/491.full.pdf&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Making A Blog Site with RStudio, R Markdown and Blogdown Part II</title>
      <link>https://fengkehh.github.io/post/2017-03-16-how-this-blog-is-made-part-ii/</link>
      <pubDate>Thu, 16 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://fengkehh.github.io/post/2017-03-16-how-this-blog-is-made-part-ii/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#blogdown-and-hugo&#34;&gt;Blogdown and Hugo&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#setup&#34;&gt;Setup&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#github-pages&#34;&gt;Github (Pages)&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#setup-1&#34;&gt;Setup&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#site-creation-submodule&#34;&gt;Site Creation &amp;amp; Submodule&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#setup-2&#34;&gt;Setup&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#site-configuration-and-deployment&#34;&gt;Site Configuration and Deployment&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;This is the continuation of &lt;a href=&#34;../2017-03-15-how-this-blog-is-made/&#34;&gt;Part I&lt;/a&gt;. In this section I am going to cover setting up &lt;em&gt;Blogdown&lt;/em&gt;, &lt;em&gt;Hugo&lt;/em&gt; and &lt;em&gt;Github Pages&lt;/em&gt; to start blogging. This is essentially a mix of the excellent guides by &lt;a href=&#34;https://proquestionasker.github.io/blog/Making_Site/&#34;&gt;Amber Thomas&lt;/a&gt;, &lt;a href=&#34;https://hjdskes.github.io/blog/update-deploying-hugo-on-personal-gh-pages/&#34;&gt;Jente Hidske&lt;/a&gt; and &lt;a href=&#34;http://robertmyles.github.io/2017/02/01/how-to-make-a-github-pages-blog-with-rstudio-and-hugo/&#34;&gt;Robert McDonnell&lt;/a&gt;. However if you want a one stop solution with some of my personal twists, here it is!&lt;/p&gt;
&lt;p&gt;I am going to assume you are using Microsoft Windows because that is what I use. The process should be largely the same for Linux and Mac OSX but you may need to install extra softwares such as &lt;em&gt;Homebrew&lt;/em&gt;. If you see an item like &lt;em&gt;&amp;lt; something &amp;gt;&lt;/em&gt;, that means replace it with whatever &lt;em&gt;something&lt;/em&gt; indicates (ie: your username, directory name etc etc) minus the angle brackets. Once you finished every step you should be able to access your online website at &lt;code&gt;https://&amp;lt;your username&amp;gt;.github.io/&lt;/code&gt;.&lt;/p&gt;
&lt;div id=&#34;blogdown-and-hugo&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Blogdown and Hugo&lt;/h2&gt;
&lt;p&gt;Hugo is a static website delivery system. It is very easy to create a website with consistent theme and styling using Hugo. The only problem for us is that Hugo does NOT inherently support R Markdown. This is why we need Blogdown, the brainchild of Yihui Xie (aka Emperor of R Markdown, First of His Name), to bridge the water.&lt;/p&gt;
&lt;div id=&#34;setup&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Setup&lt;/h3&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Launch RStudio. Type the following command to install Blogdown and load it into R.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(c(&amp;#39;httpuv&amp;#39;, &amp;#39;devtools&amp;#39;))
devtools::install_github(&amp;quot;rstudio/blogdown&amp;quot;)
library(blogdown)&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Install Hugo using the following command:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install_hugo()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Right now we can actually start generating a new site. However it is a good time to go set up our webhost first.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;github-pages&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Github (Pages)&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com&#34;&gt;Github&lt;/a&gt; is an online repository site utilizing the Git technology. Normally Github is used for version control in software development. However it has a lesser known functionality called Github Pages which is essentially free webhosting for static websites.&lt;/p&gt;
&lt;p&gt;Here’s a bit of tangent on how Github works. &lt;strong&gt;Skip straight to Setup if you are not interested.&lt;/strong&gt; On Github you have repositories. Think of them like document folders for different projects. Your Github account is essentially an online desk where you keep all of these folders/repositories inside and the underlying &lt;em&gt;git&lt;/em&gt; version control software is like the secretary. When you want to take a look at a particular project, you tell &lt;strong&gt;git&lt;/strong&gt; to give you a copy/&lt;strong&gt;clone&lt;/strong&gt; of the repository containing that project to keep on your own desk. This then becomes your local repository.&lt;/p&gt;
&lt;p&gt;You might then make some changes and add different things to the local repository. As you make changes you can make snapshots of your progress by telling git to &lt;strong&gt;commit&lt;/strong&gt; changes so you can revert to this point if you mess up later. Kind of like creating save files when you are playing a video game. Note that up to now all of your changes only happen in your local repository. Once you are really done for the night you can tell git to &lt;strong&gt;push&lt;/strong&gt; the changes to Github and git will make all the changes to the online repository to match your local repository.&lt;/p&gt;
&lt;p&gt;Github Pages is basically a special repository for you. Github will render html files inside this repository as webpages if someone types out the correponding url in a web browser. This means you can use this repository as a personal webhost and maintain it using git. That is what we are trying to achieve.&lt;/p&gt;
&lt;div id=&#34;setup-1&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Setup&lt;/h3&gt;
&lt;p&gt;We are going to set everything up for a technique called &lt;em&gt;submodule&lt;/em&gt;. I will explain the reason later. In the mean time you should follow the steps below &lt;strong&gt;EXACTLY&lt;/strong&gt;.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Sign up for a (free) account on &lt;a href=&#34;https://github.com&#34;&gt;Github&lt;/a&gt;. Choose a reasonable username because that will be part of the URL pointing to your site.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Download and install &lt;a href=&#34;https://git-scm.com/downloads&#34;&gt;Git&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Configure it for RStudio by clicking on &lt;strong&gt;Tools&lt;/strong&gt; &lt;span class=&#34;math inline&#34;&gt;\(\rightarrow\)&lt;/span&gt; &lt;strong&gt;Global Options&lt;/strong&gt; &lt;span class=&#34;math inline&#34;&gt;\(\rightarrow\)&lt;/span&gt; &lt;strong&gt;Git/SVN&lt;/strong&gt;. Set the path to the git executable (default: &lt;code&gt;C:/Program Files/Git/bin/git.exe&lt;/code&gt;). Check the box for Using Git Bash.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Click on &lt;strong&gt;Create RSA Key…&lt;/strong&gt;. Leave everything at the default values (passphrase and confirm are blank) and click &lt;strong&gt;Create&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Click on &lt;strong&gt;View public key&lt;/strong&gt; and copy the text into clipboard.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/rstudio_ssh_key.png&#34; /&gt;

&lt;/div&gt;
&lt;ol start=&#34;6&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Go to &lt;a href=&#34;https://github.com&#34;&gt;Github&lt;/a&gt;, click on your profile on the top right and select &lt;strong&gt;Settings&lt;/strong&gt;. Click on &lt;strong&gt;SSH and GPG Keys&lt;/strong&gt; on the left and press the green &lt;strong&gt;New SSH key&lt;/strong&gt; button. Type whatever name you want for the title and paste the block of text you got from the last step into the &lt;strong&gt;Key&lt;/strong&gt; textfield. Add the key.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Creating Github Pages repository:&lt;/strong&gt; Go to Github. Click on New Repository. Select &lt;strong&gt;Initialize this repository with a README&lt;/strong&gt; so your repository comes with a README.md file. Name this repository &lt;em&gt;&amp;lt;github username&amp;gt;.github.io&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/github_repo.png&#34; /&gt;

&lt;/div&gt;
&lt;ol start=&#34;8&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Creating source repository:&lt;/strong&gt; Go back to the front page for Github and make another repository. The name doesn’t matter. I named mine &lt;em&gt;blog-source&lt;/em&gt;. However make sure you &lt;strong&gt;deselect&lt;/strong&gt; “Initialize this repository with a README”. Once the repository is created you should see a URL to this repository under Quick Setup in the form of &lt;code&gt;https://github.com/&amp;lt;github username&amp;gt;/&amp;lt;source repository name&amp;gt;.git&lt;/code&gt; Copy this into clipboard.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Launch RStudio. Click &lt;strong&gt;File&lt;/strong&gt; &lt;span class=&#34;math inline&#34;&gt;\(\rightarrow\)&lt;/span&gt; &lt;strong&gt;New Project…&lt;/strong&gt; and select &lt;strong&gt;Version Control&lt;/strong&gt; &lt;span class=&#34;math inline&#34;&gt;\(\rightarrow\)&lt;/span&gt; &lt;strong&gt;Git&lt;/strong&gt;. Paste the URL for your &lt;strong&gt;source repository&lt;/strong&gt; under Repository URL. Choose a location to create your local repository under and click Create Project. RStudio will automatically switch to your local respository afterwards.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We are now ready to generate our new site and configure it to use Github Pages as the webhost.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;site-creation-submodule&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Site Creation &amp;amp; Submodule&lt;/h2&gt;
&lt;p&gt;Here’s a bit of explanation on what we did before. Again, &lt;strong&gt;skip to Setup if you are not interested&lt;/strong&gt;. The reason we are using two repositories is because Hugo generates the website into a subdirectory called &lt;code&gt;public&lt;/code&gt;. Unfortunately, Github Pages for personal websites only serves homepage from the root of its master branch. To work around this we are going to link our &lt;code&gt;public&lt;/code&gt; directory in the local repository to our Github Pages repository while the root directory of our local repository remains linked to the source repository. Thus, if we commit then push changes in the root of our local repository, all the changes will go to the source repository. If we commit and push changes in the public subdirectory though, they will instead go into the Github Pages repo. As I have foreshadowed, this is realized using &lt;em&gt;submodule&lt;/em&gt;.&lt;/p&gt;
&lt;div id=&#34;setup-2&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Setup&lt;/h3&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;In RStudio, open the project we just created and make sure Blogdown is loaded using &lt;code&gt;library(&#39;blogdown&#39;)&lt;/code&gt;. Type &lt;code&gt;new_site()&lt;/code&gt; to create a blank site with the default theme. The homepage will show up in viewer. Click the red stop button to quit the viewer and go back to console.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Launch Git Bash terminal.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/git_shell.png&#34; /&gt;

&lt;/div&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;In the terminal, you should be in the directory for your local source repository. There should be a subdirectory called &lt;strong&gt;public&lt;/strong&gt;. Delete it with the command &lt;code&gt;rm -rf public&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In the terminal, type the following command (one single line!) to clone your Github Pages repository into a subdirectory called &lt;code&gt;public&lt;/code&gt; using &lt;em&gt;submodule&lt;/em&gt;. Remember to replace with your own username.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;git submodule add -b master git@github.com:&amp;lt;username&amp;gt;/&amp;lt;username&amp;gt;.github.io.git public&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Double check by typing &lt;code&gt;git remote show origin&lt;/code&gt; in the terminal under the root directory of your local source repository. The origin should point to your &lt;strong&gt;online source repository&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Type &lt;code&gt;cd public&lt;/code&gt; and &lt;code&gt;git remote show origin&lt;/code&gt; again. This time it should point to your &lt;strong&gt;Github Pages repository&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In RStudio, you should see a file called .gitignore in RStudio’s file browser. Click on it to edit it. Add a new line &lt;code&gt;public/&lt;/code&gt; at the bottom. Save the file.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;site-configuration-and-deployment&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Site Configuration and Deployment&lt;/h2&gt;
&lt;p&gt;Time to configure our site and deploy it for the first time!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The default theme is a bit barebones so you might want to install a new theme using the following command in RStudio with blogdown loaded:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install_theme(&amp;#39;&amp;lt;creator github name&amp;gt;/&amp;lt;theme name&amp;gt;&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For example, this blog site uses the &lt;a href=&#34;https://github.com/Vimux/Mainroad&#34;&gt;Mainroad&lt;/a&gt; theme. So I typed &lt;code&gt;install_theme(&#39;Vimux/Mainroad&#39;)&lt;/code&gt; to install it. Notice that there is no leading or trailing &lt;code&gt;/&lt;/code&gt;. After installation, open &lt;code&gt;config.toml&lt;/code&gt; in your root folder and double check that the variable &lt;code&gt;theme&lt;/code&gt; has been set to your theme of choice.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;To use &lt;span class=&#34;math inline&#34;&gt;\(\LaTeX\)&lt;/span&gt; expressions you must enable the &lt;em&gt;mathjax&lt;/em&gt; javascript. I adopted YiHui Xie’s &lt;a href=&#34;https://github.com/yihui/hugo-lithium-theme/blob/7d436d803df90c873cdaecf24aeeff827696d77c/layouts/partials/footer.html#L21-L30&#34;&gt;approach&lt;/a&gt;. Copy the highlighted code chunk and insert it into a layout specification that you are sure to be loaded on every page by your theme. I inserted it into the footer.html file located under &lt;code&gt;themes/&amp;lt;theme name&amp;gt;/layouts/partials/&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;There are other self-explanatory settings in &lt;strong&gt;config.toml&lt;/strong&gt; that you should change. For example, title, baseurl, author name and descriptions, etc.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use &lt;code&gt;new_post(&#39;&amp;lt;title&amp;gt;&#39;)&lt;/code&gt; to create a new blog post as a .Rmd file.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If you want a preview of your site, type &lt;code&gt;serve_site()&lt;/code&gt; in RStudio to start a local server with a copy of your website on display.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If you are satisfied, build the online version of the site using the &lt;code&gt;build_site()&lt;/code&gt; command in RStudio. After that you can use git to push the web pages inside your &lt;strong&gt;public/&lt;/strong&gt; folder into the Github Pages repository. I have modified &lt;a href=&#34;https://hjdskes.github.io/blog/update-deploying-hugo-on-personal-gh-pages/&#34;&gt;Jente Hidske&lt;/a&gt;’s shell script into a R script to streamline deployment:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## Customized R function to facilitate fast site deployment
require(blogdown)

deploy &amp;lt;- function() {
    
    # Make sure things are commited
    output &amp;lt;- system(&amp;#39;git status -s&amp;#39;, intern = TRUE)
    
    if (length(output)) {
        print(&amp;#39;Dirty work directory. Commit/revert changed files first.&amp;#39;)
    } else {
        # Remove old website
        unlink(list.files(path = &amp;#39;./public&amp;#39;, full.names = TRUE), 
               recursive = TRUE)
        
        # Build website from source
        build_site()
        
        # Push site
        message &amp;lt;- paste(&amp;#39;Site rebuild&amp;#39;, as.character(Sys.time()))
        setwd(&amp;#39;./public&amp;#39;)
        
        fileConn&amp;lt;-file(&amp;quot;deploy.sh&amp;quot;)
        writeLines(c(&amp;#39;git add -A&amp;#39;,
                     paste(&amp;#39;git commit -m&amp;#39;, &amp;#39; \&amp;quot;&amp;#39;, message, &amp;#39;\&amp;quot;&amp;#39;, sep = &amp;#39;&amp;#39;), 
                     &amp;#39;git push&amp;#39;), 
                   fileConn)
        close(fileConn)
        
        setwd(&amp;#39;..&amp;#39;)
        print(message)
        print(&amp;#39;Go to ./public and execute ./deploy.sh&amp;#39;)
        
    }
    
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once you copy the above code into an empty .R script file, save it as deploy.R and use &lt;code&gt;source(&#39;deploy.R&#39;)&lt;/code&gt; to load the script into memory. Whenever you want to deploy your site, first commit your changes to the local source repository (ie: by RStudio Git GUI or command line), then type &lt;code&gt;deploy()&lt;/code&gt; in RStudio to build the site. Once that is done, go to the terminal and type &lt;code&gt;cd public&lt;/code&gt; to go to the Github Pages local repository. Type &lt;code&gt;./deploy.sh&lt;/code&gt; to complete deployment.&lt;/p&gt;
&lt;p&gt;I also recommend that you create a file named &lt;strong&gt;.Rprofile&lt;/strong&gt; in the root of your local source repository. Inside I put common commands that I want RStudio to run every time it loads the project for the website. For example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# Required library/files
library(blogdown)
source(&amp;#39;deploy.R&amp;#39;)

# Default Options
options(blogdown.author = &amp;#39;&amp;lt;your name here&amp;gt;&amp;#39;)
options(blogdown.rmd = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Making A Blog Site with RStudio, R Markdown and Blogdown Part I</title>
      <link>https://fengkehh.github.io/post/2017-03-15-how-this-blog-is-made/</link>
      <pubDate>Wed, 15 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://fengkehh.github.io/post/2017-03-15-how-this-blog-is-made/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;This blog is made of one philosophy resting on four pillars: it should cost exactly nothing and all the software you need are the following.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;The R programming language for data analysis.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The R Markdown language for content generation and typesetting.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Blogdown in conjunction with Hugo to generate the web pages.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Github-Pages for webhosting.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This post will mainly touch on 1 and 2. &lt;a href=&#34;../2017-03-16-how-this-blog-is-made-part-ii/&#34;&gt;Part II&lt;/a&gt; will focus on 3 and 4 so you can get your own blog up and running if you want to follow in my footsteps.&lt;/p&gt;
&lt;div id=&#34;the-r-programming-language&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The R Programming Language&lt;/h2&gt;
&lt;p&gt;R is a programming language designed for statistical computation. It has very powerful data manipulation and 2d plotting capabilities. However to use it to its full potential you need to let go of graphical user interfaces and start writing R scripts. If you have always relied on GUI before, you should know that having to code everything is a good thing! Imagine having to explain to someone which buttons to click and how far he has to move the slider to get the same result you have. If you did everything in R all you need to do is just showing them the code.&lt;/p&gt;
&lt;p&gt;To get R up and running on your computer, download and install the R distribution for your operating system from the &lt;a href=&#34;https://cran.r-project.org/&#34;&gt;official website&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;r-markdown&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;R Markdown&lt;/h2&gt;
&lt;p&gt;Perhaps the most important reason to create a blog site this way is none other than R Markdown. You can think of R Markdown as a language that allows you to quickly generate decent looking webpages with embedded R codes, graphics and even &lt;span class=&#34;math inline&#34;&gt;\(\LaTeX\)&lt;/span&gt; expressions for mathematical equations. It is an incredibly efficient language in the sense that almost every single thing you type goes directly to the content you want to show to your audience as opposed to tweaking various display or formatting parameters.&lt;/p&gt;
&lt;p&gt;I use the popular &lt;a href=&#34;https://www.rstudio.com/products/rstudio/#Desktop&#34;&gt;RStudio&lt;/a&gt; to write R Markdown files. Be sure to install R first if you haven’t done so already.&lt;/p&gt;
&lt;p&gt;Once you have RStudio installed go ahead and launch it. Type the following lines in the console to install all the packages you need for R Markdown:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(&amp;#39;rmarkdown&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I won’t go into how to use RStudio or write R Markdown files here because there are many excellent &lt;a href=&#34;https://www.r-bloggers.com/r-markdown-and-knitr-tutorial-part-1/&#34;&gt;tutorials&lt;/a&gt; on the subject already. The reason I bring them up is because there are nice tools out there that help us convert content generated by R Markdown to content readable on a blog like this one. &lt;a href=&#34;../2017-03-16-how-this-blog-is-made-part-ii/&#34;&gt;Part II&lt;/a&gt; will talk about how to set up free webhosting using Github-Pages and configure Blogdown and Hugo to generate the static webpages for the blog site.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>